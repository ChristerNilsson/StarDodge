// Generated by CoffeeScript 2.5.1
var S, draw, setup, startNewGame;

S = {
  x: 0,
  y: 0,
  level: 0,
  d: 50,
  stars: []
};

startNewGame = function(dlevel) {
  var j, len, ref, x, y;
  if (dlevel === 1) {
    S.stars = range(height * width / S.d / S.d).map(function(i) {
      return [width * random(), height * random()];
    });
  }
  Object.assign(S, {
    level: S.level + dlevel,
    x: 0,
    y: height / 2
  });
  bg(0.5);
  fc(1, 1, 0);
  sc();
  ref = S.stars;
  for (j = 0, len = ref.length; j < len; j++) {
    [x, y] = ref[j];
    circle(x, y, S.level);
  }
  rect(width - 3, 0.4 * height, 2, 0.2 * height);
  textAlign(CENTER, CENTER);
  textSize(height);
  fc(1, 1, 1, 0.5);
  sc();
  return text(S.level, width / 2, height / 2);
};

draw = function() {
  var j, len, ref, ref1, x, y;
  [S.x, S.y] = [S.x + 1, S.y + (mouseIsPressed || keyIsDown(32) ? 1 : -1)];
  sc(0);
  sw(1.5);
  point(S.x, S.y);
  if (S.x > width && (0.4 * height < (ref = S.y) && ref < 0.6 * height)) {
    return startNewGame(1);
  }
  if (S.y < 0 || S.y > height || S.x > width) {
    return startNewGame(0);
  }
  ref1 = S.stars;
  for (j = 0, len = ref1.length; j < len; j++) {
    [x, y] = ref1[j];
    if (S.level > dist(S.x, S.y, x, y)) {
      return startNewGame(0);
    }
  }
};

setup = function() {
  createCanvas(windowWidth, windowHeight);
  return startNewGame(1);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsQ0FBQSxFQUFBLElBQUEsRUFBQSxLQUFBLEVBQUE7O0FBQUEsQ0FBQSxHQUFJO0VBQUMsQ0FBQSxFQUFFLENBQUg7RUFBTSxDQUFBLEVBQUUsQ0FBUjtFQUFXLEtBQUEsRUFBTSxDQUFqQjtFQUFvQixDQUFBLEVBQUUsRUFBdEI7RUFBMEIsS0FBQSxFQUFNO0FBQWhDOztBQUNKLFlBQUEsR0FBZSxRQUFBLENBQUMsTUFBRCxDQUFBO0FBQ2YsTUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxDQUFBLEVBQUE7RUFBQyxJQUFHLE1BQUEsS0FBUSxDQUFYO0lBQWtCLENBQUMsQ0FBQyxLQUFGLEdBQVUsS0FBQSxDQUFNLE1BQUEsR0FBTyxLQUFQLEdBQWEsQ0FBQyxDQUFDLENBQWYsR0FBaUIsQ0FBQyxDQUFDLENBQXpCLENBQTJCLENBQUMsR0FBNUIsQ0FBZ0MsUUFBQSxDQUFDLENBQUQsQ0FBQTthQUFPLENBQUMsS0FBQSxHQUFNLE1BQUEsQ0FBQSxDQUFQLEVBQWlCLE1BQUEsR0FBTyxNQUFBLENBQUEsQ0FBeEI7SUFBUCxDQUFoQyxFQUE1Qjs7RUFDQSxNQUFNLENBQUMsTUFBUCxDQUFjLENBQWQsRUFBZ0I7SUFBQyxLQUFBLEVBQU0sQ0FBQyxDQUFDLEtBQUYsR0FBUSxNQUFmO0lBQXVCLENBQUEsRUFBRSxDQUF6QjtJQUE0QixDQUFBLEVBQUUsTUFBQSxHQUFPO0VBQXJDLENBQWhCO0VBQ0EsRUFBQSxDQUFHLEdBQUg7RUFDQSxFQUFBLENBQUcsQ0FBSCxFQUFLLENBQUwsRUFBTyxDQUFQO0VBQ0EsRUFBQSxDQUFBO0FBQ0E7RUFBQSxLQUFBLHFDQUFBO0lBQXVCLENBQUMsQ0FBRCxFQUFHLENBQUg7SUFBdkIsTUFBQSxDQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsQ0FBQyxDQUFDLEtBQWI7RUFBQTtFQUNBLElBQUEsQ0FBSyxLQUFBLEdBQU0sQ0FBWCxFQUFhLEdBQUEsR0FBSSxNQUFqQixFQUF3QixDQUF4QixFQUEwQixHQUFBLEdBQUksTUFBOUI7RUFDQSxTQUFBLENBQVUsTUFBVixFQUFpQixNQUFqQjtFQUNBLFFBQUEsQ0FBUyxNQUFUO0VBQ0EsRUFBQSxDQUFHLENBQUgsRUFBSyxDQUFMLEVBQU8sQ0FBUCxFQUFTLEdBQVQ7RUFDQSxFQUFBLENBQUE7U0FDQSxJQUFBLENBQUssQ0FBQyxDQUFDLEtBQVAsRUFBYSxLQUFBLEdBQU0sQ0FBbkIsRUFBcUIsTUFBQSxHQUFPLENBQTVCO0FBWmM7O0FBYWYsSUFBQSxHQUFPLFFBQUEsQ0FBQSxDQUFBO0FBQ1AsTUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsQ0FBQSxFQUFBO0VBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBSCxFQUFLLENBQUMsQ0FBQyxDQUFQLENBQUEsR0FBWSxDQUFDLENBQUMsQ0FBQyxDQUFGLEdBQUksQ0FBTCxFQUFRLENBQUMsQ0FBQyxDQUFGLEdBQU0sQ0FBRyxjQUFBLElBQWtCLFNBQUEsQ0FBVSxFQUFWLENBQXJCLEdBQXVDLENBQXZDLEdBQThDLENBQUMsQ0FBL0MsQ0FBZDtFQUNaLEVBQUEsQ0FBRyxDQUFIO0VBQ0EsRUFBQSxDQUFHLEdBQUg7RUFDQSxLQUFBLENBQU0sQ0FBQyxDQUFDLENBQVIsRUFBVSxDQUFDLENBQUMsQ0FBWjtFQUNBLElBQUcsQ0FBQyxDQUFDLENBQUYsR0FBTSxLQUFOLElBQWdCLENBQUEsR0FBQSxHQUFJLE1BQUosVUFBYSxDQUFDLENBQUMsRUFBZixPQUFBLEdBQW1CLEdBQUEsR0FBSSxNQUF2QixDQUFuQjtBQUFzRCxXQUFPLFlBQUEsQ0FBYSxDQUFiLEVBQTdEOztFQUNBLElBQUcsQ0FBQyxDQUFDLENBQUYsR0FBSSxDQUFKLElBQVMsQ0FBQyxDQUFDLENBQUYsR0FBSSxNQUFiLElBQXVCLENBQUMsQ0FBQyxDQUFGLEdBQUksS0FBOUI7QUFBeUMsV0FBTyxZQUFBLENBQWEsQ0FBYixFQUFoRDs7QUFDQTtFQUFBLEtBQUEsc0NBQUE7SUFBSSxDQUFDLENBQUQsRUFBRyxDQUFIO0lBQ0gsSUFBRyxDQUFDLENBQUMsS0FBRixHQUFVLElBQUEsQ0FBSyxDQUFDLENBQUMsQ0FBUCxFQUFTLENBQUMsQ0FBQyxDQUFYLEVBQWEsQ0FBYixFQUFlLENBQWYsQ0FBYjtBQUFtQyxhQUFPLFlBQUEsQ0FBYSxDQUFiLEVBQTFDOztFQUREO0FBUE07O0FBU1AsS0FBQSxHQUFRLFFBQUEsQ0FBQSxDQUFBO0VBQ1AsWUFBQSxDQUFhLFdBQWIsRUFBeUIsWUFBekI7U0FDQSxZQUFBLENBQWEsQ0FBYjtBQUZPIiwic291cmNlc0NvbnRlbnQiOlsiUyA9IHt4OjAsIHk6MCwgbGV2ZWw6MCwgZDo1MCwgc3RhcnM6W119XHJcbnN0YXJ0TmV3R2FtZSA9IChkbGV2ZWwpIC0+XHJcblx0aWYgZGxldmVsPT0xIHRoZW4gUy5zdGFycyA9IHJhbmdlKGhlaWdodCp3aWR0aC9TLmQvUy5kKS5tYXAoKGkpIC0+IFt3aWR0aCpyYW5kb20oKSwgaGVpZ2h0KnJhbmRvbSgpXSlcclxuXHRPYmplY3QuYXNzaWduIFMse2xldmVsOlMubGV2ZWwrZGxldmVsLCB4OjAsIHk6aGVpZ2h0LzJ9XHJcblx0YmcgMC41XHJcblx0ZmMgMSwxLDBcclxuXHRzYygpXHJcblx0Y2lyY2xlIHgseSxTLmxldmVsIGZvciBbeCx5XSBpbiBTLnN0YXJzXHJcblx0cmVjdCB3aWR0aC0zLDAuNCpoZWlnaHQsMiwwLjIqaGVpZ2h0XHJcblx0dGV4dEFsaWduIENFTlRFUixDRU5URVJcclxuXHR0ZXh0U2l6ZSBoZWlnaHRcclxuXHRmYyAxLDEsMSwwLjVcclxuXHRzYygpXHJcblx0dGV4dCBTLmxldmVsLHdpZHRoLzIsaGVpZ2h0LzJcclxuZHJhdyA9IC0+XHJcblx0W1MueCxTLnldID0gW1MueCsxLCBTLnkgKyBpZiBtb3VzZUlzUHJlc3NlZCBvciBrZXlJc0Rvd24gMzIgdGhlbiAxIGVsc2UgLTFdXHJcblx0c2MgMFxyXG5cdHN3IDEuNVxyXG5cdHBvaW50IFMueCxTLnlcclxuXHRpZiBTLnggPiB3aWR0aCBhbmQgMC40KmhlaWdodCA8IFMueSA8IDAuNipoZWlnaHQgdGhlbiByZXR1cm4gc3RhcnROZXdHYW1lIDFcclxuXHRpZiBTLnk8MCBvciBTLnk+aGVpZ2h0IG9yIFMueD53aWR0aCB0aGVuIHJldHVybiBzdGFydE5ld0dhbWUgMFxyXG5cdGZvciBbeCx5XSBpbiBTLnN0YXJzXHJcblx0XHRpZiBTLmxldmVsID4gZGlzdCBTLngsUy55LHgseSB0aGVuIHJldHVybiBzdGFydE5ld0dhbWUgMFxyXG5zZXR1cCA9IC0+XHJcblx0Y3JlYXRlQ2FudmFzIHdpbmRvd1dpZHRoLHdpbmRvd0hlaWdodFxyXG5cdHN0YXJ0TmV3R2FtZSAxXHJcbiJdfQ==
//# sourceURL=c:\github\StarDodge\coffee\sketch.coffee