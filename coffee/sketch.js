// Generated by CoffeeScript 2.7.0
var S, draw, mouseReleased, setup, startNewGame, touchEnded, touchStarted, touching;

touching = false;

touchStarted = function() {
  touching = true;
  return false;
};

touchEnded = function() {
  touching = false;
  return false;
};

mouseReleased = function() {
  return touching = false;
};

S = {
  x: 0,
  y: 0,
  level: 0,
  d: 50,
  stars: []
};

startNewGame = function(dlevel) {
  var j, len, ref, x, y;
  if (dlevel === 1) {
    S.stars = range(height * width / S.d / S.d).map(function(i) {
      return [width * random(), height * random()];
    });
  }
  Object.assign(S, {
    level: S.level + dlevel,
    x: 0,
    y: height / 2
  });
  bg(0.5);
  fc(1, 1, 0);
  sc();
  ref = S.stars;
  for (j = 0, len = ref.length; j < len; j++) {
    [x, y] = ref[j];
    circle(x, y, S.level);
  }
  rect(width - 3, 0.4 * height, 2, 0.2 * height);
  textAlign(CENTER, CENTER);
  textSize(height);
  fc(1, 1, 1, 0.5);
  sc();
  return text(S.level, width / 2, height / 2);
};

draw = function() {
  var j, len, ref, ref1, x, y;
  [S.x, S.y] = [S.x + 1, S.y + (mouseIsPressed || keyIsDown(32) ? 1 : -1)];
  sc(0);
  sw(1.5);
  point(S.x, S.y);
  if (S.x > width && (0.4 * height < (ref = S.y) && ref < 0.6 * height)) {
    return startNewGame(1);
  }
  if (S.y < 0 || S.y > height || S.x > width) {
    return startNewGame(0);
  }
  ref1 = S.stars;
  for (j = 0, len = ref1.length; j < len; j++) {
    [x, y] = ref1[j];
    if (S.level > dist(S.x, S.y, x, y)) {
      return startNewGame(0);
    }
  }
};

setup = function() {
  createCanvas(windowWidth, windowHeight);
  return startNewGame(1);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uXFwiLCJzb3VyY2VzIjpbImNvZmZlZVxcc2tldGNoLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxDQUFBLEVBQUEsSUFBQSxFQUFBLGFBQUEsRUFBQSxLQUFBLEVBQUEsWUFBQSxFQUFBLFVBQUEsRUFBQSxZQUFBLEVBQUE7O0FBQUEsUUFBQSxHQUFXOztBQUNYLFlBQUEsR0FBZSxRQUFBLENBQUEsQ0FBQTtFQUFHLFFBQUEsR0FBVztTQUFNO0FBQXBCOztBQUNmLFVBQUEsR0FBYSxRQUFBLENBQUEsQ0FBQTtFQUFHLFFBQUEsR0FBVztTQUFPO0FBQXJCOztBQUNiLGFBQUEsR0FBZ0IsUUFBQSxDQUFBLENBQUE7U0FBRyxRQUFBLEdBQVc7QUFBZDs7QUFFaEIsQ0FBQSxHQUFJO0VBQUMsQ0FBQSxFQUFFLENBQUg7RUFBTSxDQUFBLEVBQUUsQ0FBUjtFQUFXLEtBQUEsRUFBTSxDQUFqQjtFQUFvQixDQUFBLEVBQUUsRUFBdEI7RUFBMEIsS0FBQSxFQUFNO0FBQWhDOztBQUVKLFlBQUEsR0FBZSxRQUFBLENBQUMsTUFBRCxDQUFBO0FBQ2YsTUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxDQUFBLEVBQUE7RUFBQyxJQUFHLE1BQUEsS0FBUSxDQUFYO0lBQWtCLENBQUMsQ0FBQyxLQUFGLEdBQVUsS0FBQSxDQUFNLE1BQUEsR0FBTyxLQUFQLEdBQWEsQ0FBQyxDQUFDLENBQWYsR0FBaUIsQ0FBQyxDQUFDLENBQXpCLENBQTJCLENBQUMsR0FBNUIsQ0FBZ0MsUUFBQSxDQUFDLENBQUQsQ0FBQTthQUFPLENBQUMsS0FBQSxHQUFNLE1BQUEsQ0FBQSxDQUFQLEVBQWlCLE1BQUEsR0FBTyxNQUFBLENBQUEsQ0FBeEI7SUFBUCxDQUFoQyxFQUE1Qjs7RUFDQSxNQUFNLENBQUMsTUFBUCxDQUFjLENBQWQsRUFBZ0I7SUFBQyxLQUFBLEVBQU0sQ0FBQyxDQUFDLEtBQUYsR0FBUSxNQUFmO0lBQXVCLENBQUEsRUFBRSxDQUF6QjtJQUE0QixDQUFBLEVBQUUsTUFBQSxHQUFPO0VBQXJDLENBQWhCO0VBQ0EsRUFBQSxDQUFHLEdBQUg7RUFDQSxFQUFBLENBQUcsQ0FBSCxFQUFLLENBQUwsRUFBTyxDQUFQO0VBQ0EsRUFBQSxDQUFBO0FBQ0E7RUFBQSxLQUFBLHFDQUFBO0lBQXVCLENBQUMsQ0FBRCxFQUFHLENBQUg7SUFBdkIsTUFBQSxDQUFPLENBQVAsRUFBUyxDQUFULEVBQVcsQ0FBQyxDQUFDLEtBQWI7RUFBQTtFQUNBLElBQUEsQ0FBSyxLQUFBLEdBQU0sQ0FBWCxFQUFhLEdBQUEsR0FBSSxNQUFqQixFQUF3QixDQUF4QixFQUEwQixHQUFBLEdBQUksTUFBOUI7RUFDQSxTQUFBLENBQVUsTUFBVixFQUFpQixNQUFqQjtFQUNBLFFBQUEsQ0FBUyxNQUFUO0VBQ0EsRUFBQSxDQUFHLENBQUgsRUFBSyxDQUFMLEVBQU8sQ0FBUCxFQUFTLEdBQVQ7RUFDQSxFQUFBLENBQUE7U0FDQSxJQUFBLENBQUssQ0FBQyxDQUFDLEtBQVAsRUFBYyxLQUFBLEdBQU0sQ0FBcEIsRUFBdUIsTUFBQSxHQUFPLENBQTlCO0FBWmM7O0FBY2YsSUFBQSxHQUFPLFFBQUEsQ0FBQSxDQUFBO0FBQ1AsTUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsQ0FBQSxFQUFBO0VBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBSCxFQUFLLENBQUMsQ0FBQyxDQUFQLENBQUEsR0FBWSxDQUFDLENBQUMsQ0FBQyxDQUFGLEdBQUksQ0FBTCxFQUFRLENBQUMsQ0FBQyxDQUFGLEdBQU0sQ0FBRyxjQUFBLElBQWtCLFNBQUEsQ0FBVSxFQUFWLENBQXJCLEdBQXVDLENBQXZDLEdBQThDLENBQUMsQ0FBL0MsQ0FBZDtFQUNaLEVBQUEsQ0FBRyxDQUFIO0VBQ0EsRUFBQSxDQUFHLEdBQUg7RUFDQSxLQUFBLENBQU0sQ0FBQyxDQUFDLENBQVIsRUFBVSxDQUFDLENBQUMsQ0FBWjtFQUNBLElBQUcsQ0FBQyxDQUFDLENBQUYsR0FBTSxLQUFOLElBQWdCLENBQUEsR0FBQSxHQUFJLE1BQUosVUFBYSxDQUFDLENBQUMsRUFBZixPQUFBLEdBQW1CLEdBQUEsR0FBSSxNQUF2QixDQUFuQjtBQUFzRCxXQUFPLFlBQUEsQ0FBYSxDQUFiLEVBQTdEOztFQUNBLElBQUcsQ0FBQyxDQUFDLENBQUYsR0FBSSxDQUFKLElBQVMsQ0FBQyxDQUFDLENBQUYsR0FBSSxNQUFiLElBQXVCLENBQUMsQ0FBQyxDQUFGLEdBQUksS0FBOUI7QUFBeUMsV0FBTyxZQUFBLENBQWEsQ0FBYixFQUFoRDs7QUFDQTtFQUFBLEtBQUEsc0NBQUE7SUFBSSxDQUFDLENBQUQsRUFBRyxDQUFIO0lBQ0gsSUFBRyxDQUFDLENBQUMsS0FBRixHQUFVLElBQUEsQ0FBSyxDQUFDLENBQUMsQ0FBUCxFQUFTLENBQUMsQ0FBQyxDQUFYLEVBQWEsQ0FBYixFQUFlLENBQWYsQ0FBYjtBQUFtQyxhQUFPLFlBQUEsQ0FBYSxDQUFiLEVBQTFDOztFQUREO0FBUE07O0FBVVAsS0FBQSxHQUFRLFFBQUEsQ0FBQSxDQUFBO0VBQ1AsWUFBQSxDQUFhLFdBQWIsRUFBeUIsWUFBekI7U0FDQSxZQUFBLENBQWEsQ0FBYjtBQUZPIiwic291cmNlc0NvbnRlbnQiOlsidG91Y2hpbmcgPSBmYWxzZVxyXG50b3VjaFN0YXJ0ZWQgPSAtPiB0b3VjaGluZyA9IHRydWU7IGZhbHNlXHJcbnRvdWNoRW5kZWQgPSAtPiB0b3VjaGluZyA9IGZhbHNlOyBmYWxzZVxyXG5tb3VzZVJlbGVhc2VkID0gLT4gdG91Y2hpbmcgPSBmYWxzZVxyXG5cclxuUyA9IHt4OjAsIHk6MCwgbGV2ZWw6MCwgZDo1MCwgc3RhcnM6W119XHJcblxyXG5zdGFydE5ld0dhbWUgPSAoZGxldmVsKSAtPlxyXG5cdGlmIGRsZXZlbD09MSB0aGVuIFMuc3RhcnMgPSByYW5nZShoZWlnaHQqd2lkdGgvUy5kL1MuZCkubWFwKChpKSAtPiBbd2lkdGgqcmFuZG9tKCksIGhlaWdodCpyYW5kb20oKV0pXHJcblx0T2JqZWN0LmFzc2lnbiBTLHtsZXZlbDpTLmxldmVsK2RsZXZlbCwgeDowLCB5OmhlaWdodC8yfVxyXG5cdGJnIDAuNVxyXG5cdGZjIDEsMSwwXHJcblx0c2MoKVxyXG5cdGNpcmNsZSB4LHksUy5sZXZlbCBmb3IgW3gseV0gaW4gUy5zdGFycyBcclxuXHRyZWN0IHdpZHRoLTMsMC40KmhlaWdodCwyLDAuMipoZWlnaHRcclxuXHR0ZXh0QWxpZ24gQ0VOVEVSLENFTlRFUlxyXG5cdHRleHRTaXplIGhlaWdodFxyXG5cdGZjIDEsMSwxLDAuNVxyXG5cdHNjKClcclxuXHR0ZXh0IFMubGV2ZWwsIHdpZHRoLzIsIGhlaWdodC8yXHJcblxyXG5kcmF3ID0gLT5cclxuXHRbUy54LFMueV0gPSBbUy54KzEsIFMueSArIGlmIG1vdXNlSXNQcmVzc2VkIG9yIGtleUlzRG93biAzMiB0aGVuIDEgZWxzZSAtMV1cclxuXHRzYyAwXHJcblx0c3cgMS41XHJcblx0cG9pbnQgUy54LFMueVxyXG5cdGlmIFMueCA+IHdpZHRoIGFuZCAwLjQqaGVpZ2h0IDwgUy55IDwgMC42KmhlaWdodCB0aGVuIHJldHVybiBzdGFydE5ld0dhbWUgMVxyXG5cdGlmIFMueTwwIG9yIFMueT5oZWlnaHQgb3IgUy54PndpZHRoIHRoZW4gcmV0dXJuIHN0YXJ0TmV3R2FtZSAwXHJcblx0Zm9yIFt4LHldIGluIFMuc3RhcnNcclxuXHRcdGlmIFMubGV2ZWwgPiBkaXN0IFMueCxTLnkseCx5IHRoZW4gcmV0dXJuIHN0YXJ0TmV3R2FtZSAwXHJcblxyXG5zZXR1cCA9IC0+XHJcblx0Y3JlYXRlQ2FudmFzIHdpbmRvd1dpZHRoLHdpbmRvd0hlaWdodFxyXG5cdHN0YXJ0TmV3R2FtZSAxXHJcbiJdfQ==
//# sourceURL=c:\github\StarDodge\coffee\sketch.coffee